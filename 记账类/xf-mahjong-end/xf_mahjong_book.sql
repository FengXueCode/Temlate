/*
 Navicat Premium Data Transfer

 Source Server         : 本地
 Source Server Type    : MySQL
 Source Server Version : 80012
 Source Host           : localhost:3306
 Source Schema         : xf_mahjong_book

 Target Server Type    : MySQL
 Target Server Version : 80012
 File Encoding         : 65001

 Date: 30/09/2025 16:58:10
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for friend
-- ----------------------------
DROP TABLE IF EXISTS `friend`;
CREATE TABLE `friend`  (
  `friend_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '关系编号',
  `user_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户编号',
  `to_user_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '好友编号',
  `remark` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '别名',
  PRIMARY KEY (`friend_id`) USING BTREE
) ENGINE = MyISAM AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of friend
-- ----------------------------
INSERT INTO `friend` VALUES ('1971398035116232705', '1970042165480517633', '1970751632425717762', NULL);
INSERT INTO `friend` VALUES ('1971398554077466626', '1970751632425717762', '1970042165480517633', '备注1');
INSERT INTO `friend` VALUES ('1972127731416154113', '1970751632425717762', '1970042165480517631', NULL);
INSERT INTO `friend` VALUES ('1972127731546177538', '1970751632425717762', '1970042165480517632', NULL);
INSERT INTO `friend` VALUES ('1972188452745134082', '1970042165480517633', '1970042165480517631', NULL);
INSERT INTO `friend` VALUES ('1972558345986404353', '1970751632425717762', '1', NULL);
INSERT INTO `friend` VALUES ('1972558346053513217', '1970042165480517633', '1', NULL);
INSERT INTO `friend` VALUES ('1972558346116427778', '1970751632425717762', '2', NULL);
INSERT INTO `friend` VALUES ('1972558346246451201', '1970042165480517633', '2', NULL);
INSERT INTO `friend` VALUES ('1972580575755661314', '1972579984673370114', '1970751632425717762', NULL);
INSERT INTO `friend` VALUES ('1972580575822770177', '1970751632425717762', '1972579984673370114', NULL);
INSERT INTO `friend` VALUES ('1972580595246592001', '1972579984673370114', '1970042165480517633', NULL);
INSERT INTO `friend` VALUES ('1972580595896709121', '1970042165480517633', '1972579984673370114', NULL);

-- ----------------------------
-- Table structure for room
-- ----------------------------
DROP TABLE IF EXISTS `room`;
CREATE TABLE `room`  (
  `room_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '房间id',
  `creator` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '创建者id',
  `status` int(1) NULL DEFAULT 1 COMMENT '房间状态 0停止 1启用',
  `tea_limit` decimal(10, 2) NULL DEFAULT 0.00 COMMENT '茶水上限',
  `tea_type` int(1) NULL DEFAULT 0 COMMENT '0 百分比 1 满额',
  `ratio` int(100) NULL DEFAULT 0 COMMENT '比例',
  `tea_full` decimal(10, 2) NULL DEFAULT NULL COMMENT '满多少',
  `tea_minus` decimal(10, 2) NULL DEFAULT NULL COMMENT '减多少',
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `room_type` int(1) NULL DEFAULT NULL COMMENT '0 麻将 1 牌',
  `room_ratio` decimal(10, 2) NULL DEFAULT NULL COMMENT '分钱比',
  PRIMARY KEY (`room_id`) USING BTREE
) ENGINE = MyISAM AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of room
-- ----------------------------
INSERT INTO `room` VALUES ('1972937650516045825', '1972579984673370114', 0, 0.00, 0, 0, NULL, NULL, '2025-09-30 16:12:45', 0, 0.50);
INSERT INTO `room` VALUES ('1972935974094680065', '1972579984673370114', 0, 0.00, 0, 0, NULL, NULL, '2025-09-30 16:06:06', 0, 0.50);

-- ----------------------------
-- Table structure for room_ending
-- ----------------------------
DROP TABLE IF EXISTS `room_ending`;
CREATE TABLE `room_ending`  (
  `room_ending_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '房间结局',
  `room_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `user_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `location` int(1) NULL DEFAULT NULL COMMENT '0 东 1 南 2 西 3 北',
  `money` decimal(10, 2) NULL DEFAULT 0.00 COMMENT '用户金额',
  PRIMARY KEY (`room_ending_id`) USING BTREE
) ENGINE = MyISAM AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of room_ending
-- ----------------------------
INSERT INTO `room_ending` VALUES ('1972938192092966914', '1972937650516045825', '1972579984673370114', '2025-09-30 16:14:55', 0, 40.00);
INSERT INTO `room_ending` VALUES ('1972936368694800385', '1972935974094680065', '1970042165480517633', '2025-09-30 16:07:40', 1, 0.00);
INSERT INTO `room_ending` VALUES ('1972936563268562946', '1972935974094680065', '1972579984673370114', '2025-09-30 16:08:26', 0, 8.00);
INSERT INTO `room_ending` VALUES ('1972936563134345218', '1972935974094680065', '1970751632425717762', '2025-09-30 16:08:26', 2, -8.00);
INSERT INTO `room_ending` VALUES ('1972938733195931649', '1972937650516045825', '1972579984673370114', '2025-09-30 16:17:04', 0, -8.00);
INSERT INTO `room_ending` VALUES ('1972938733263040514', '1972937650516045825', '1970751632425717762', '2025-09-30 16:17:04', 1, 0.00);
INSERT INTO `room_ending` VALUES ('1972938733325955073', '1972937650516045825', '1970042165480517633', '2025-09-30 16:17:04', 2, 8.00);

-- ----------------------------
-- Table structure for room_record
-- ----------------------------
DROP TABLE IF EXISTS `room_record`;
CREATE TABLE `room_record`  (
  `room_record_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '房间记录id',
  `room_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '房间id',
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `winner` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '赢家id',
  `loser` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '败家id',
  `money` decimal(10, 2) NULL DEFAULT NULL COMMENT '金额',
  `tea` decimal(10, 2) NULL DEFAULT NULL COMMENT '茶水费',
  `record_type` int(1) NULL DEFAULT 0 COMMENT '0 转账 1 结算',
  `settlement` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '结算者id',
  PRIMARY KEY (`room_record_id`) USING BTREE
) ENGINE = MyISAM AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of room_record
-- ----------------------------
INSERT INTO `room_record` VALUES ('1972937907228422145', '1972937650516045825', '2025-09-30 16:13:47', '1972579984673370114', '1970042165480517633', 32.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972937929110106114', '1972937650516045825', '2025-09-30 16:13:52', '1972579984673370114', '1970751632425717762', 32.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972937891931795457', '1972937650516045825', '2025-09-30 16:13:43', '1970042165480517633', '1970751632425717762', 16.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972937867239927810', '1972937650516045825', '2025-09-30 16:13:37', '1970042165480517633', '1972579984673370114', 16.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972937810553909250', '1972937650516045825', '2025-09-30 16:13:24', '1970751632425717762', '1970042165480517633', 16.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972937794909155330', '1972937650516045825', '2025-09-30 16:13:20', '1970042165480517633', '1970751632425717762', 16.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972937757584044034', '1972937650516045825', '2025-09-30 16:13:11', '1970751632425717762', '1972579984673370114', 8.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972936563335671810', '1972935974094680065', '2025-09-30 16:08:26', '1972579984673370114', '1970751632425717762', 8.00, 0.00, 1, '1970751632425717762');
INSERT INTO `room_record` VALUES ('1972936313497759745', '1972935974094680065', '2025-09-30 16:07:27', '1972579984673370114', '1970751632425717762', 16.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972936368426364929', '1972935974094680065', '2025-09-30 16:07:40', '1970042165480517633', '1972579984673370114', 24.00, 0.00, 1, '1970042165480517633');
INSERT INTO `room_record` VALUES ('1972936272557158401', '1972935974094680065', '2025-09-30 16:07:17', '1970042165480517633', '1972579984673370114', 8.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972936247538135042', '1972935974094680065', '2025-09-30 16:07:11', '1970751632425717762', '1970042165480517633', 8.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972936223261503490', '1972935974094680065', '2025-09-30 16:07:05', '1970042165480517633', '1970751632425717762', 16.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972936150091870210', '1972935974094680065', '2025-09-30 16:06:48', '1970751632425717762', '1970042165480517633', 8.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972936207725801474', '1972935974094680065', '2025-09-30 16:07:01', '1970042165480517633', '1972579984673370114', 16.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972936127069335554', '1972935974094680065', '2025-09-30 16:06:42', '1970751632425717762', '1972579984673370114', 8.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972937966787538945', '1972937650516045825', '2025-09-30 16:14:01', '1970042165480517633', '1972579984673370114', 8.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972938043539107841', '1972937650516045825', '2025-09-30 16:14:19', '1970042165480517633', '1970751632425717762', 8.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972938057531305985', '1972937650516045825', '2025-09-30 16:14:23', '1972579984673370114', '1970751632425717762', 8.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972938192285904898', '1972937650516045825', '2025-09-30 16:14:55', '1972579984673370114', '1970751632425717762', 32.00, 0.00, 1, '1972579984673370114');
INSERT INTO `room_record` VALUES ('1972938192554340354', '1972937650516045825', '2025-09-30 16:14:55', '1972579984673370114', '1970042165480517633', 8.00, 0.00, 1, '1972579984673370114');
INSERT INTO `room_record` VALUES ('1972938582096130050', '1972937650516045825', '2025-09-30 16:16:28', '1972579984673370114', '1970751632425717762', 8.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972938672894423042', '1972937650516045825', '2025-09-30 16:16:49', '1970751632425717762', '1970042165480517633', 16.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972938684583948289', '1972937650516045825', '2025-09-30 16:16:52', '1970751632425717762', '1972579984673370114', 16.00, NULL, 0, NULL);
INSERT INTO `room_record` VALUES ('1972938733455978498', '1972937650516045825', '2025-09-30 16:17:04', '1970042165480517633', '1972579984673370114', 8.00, 0.00, 1, '1972579984673370114');

-- ----------------------------
-- Table structure for room_user
-- ----------------------------
DROP TABLE IF EXISTS `room_user`;
CREATE TABLE `room_user`  (
  `room_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `user_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `money` decimal(10, 2) NULL DEFAULT 0.00 COMMENT '用户金额',
  `status` int(1) NULL DEFAULT 1 COMMENT '0 已结算 1牌局中',
  `nickname` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '昵称',
  `tea` decimal(10, 2) NULL DEFAULT 0.00 COMMENT '茶水金额',
  `portrait` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '用户头像',
  `location` int(1) NULL DEFAULT NULL COMMENT '0 东 1 南 2 西 3 北'
) ENGINE = MyISAM AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of room_user
-- ----------------------------
INSERT INTO `room_user` VALUES ('1972935974094680065', '1970751632425717762', -8.00, 0, '枫雪', 0.00, 'http://10.8.131.19:8080/images/portrait/UiSK1cm4Hx86ebe40bf40dc2332579596d01db694eba.jpeg', 2);
INSERT INTO `room_user` VALUES ('1972937650516045825', '1972579984673370114', -8.00, 0, 'O_o', 0.00, 'http://10.8.131.19:8080/images/portrait/0Be8m8DOS27q2827a8880b20716f8429c57271587301.jpeg', 0);
INSERT INTO `room_user` VALUES ('1972937650516045825', '1970751632425717762', 0.00, 0, '枫雪', 0.00, 'http://10.8.131.19:8080/images/portrait/UiSK1cm4Hx86ebe40bf40dc2332579596d01db694eba.jpeg', 1);
INSERT INTO `room_user` VALUES ('1972937650516045825', '1970042165480517633', 8.00, 0, '沉迷美色', 0.00, 'http://10.8.131.19:8080/images/portrait/tmp_bb1ab9a6aacbdfc7a0a9e80a949a55c33bc0252bb5754b7ad10f99fded5ee1ae.jpeg', 2);
INSERT INTO `room_user` VALUES ('1972935974094680065', '1970042165480517633', 0.00, 0, '沉迷美色', 0.00, 'http://10.8.131.19:8080/images/portrait/tmp_bb1ab9a6aacbdfc7a0a9e80a949a55c33bc0252bb5754b7ad10f99fded5ee1ae.jpeg', 1);
INSERT INTO `room_user` VALUES ('1972935974094680065', '1972579984673370114', 8.00, 0, 'O_o', 0.00, 'http://10.8.131.19:8080/images/portrait/0Be8m8DOS27q2827a8880b20716f8429c57271587301.jpeg', 0);

-- ----------------------------
-- Table structure for user
-- ----------------------------
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user`  (
  `user_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '用户id',
  `nickname` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '昵称',
  `portrait` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '头像路径',
  `open_id` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'openId',
  PRIMARY KEY (`user_id`) USING BTREE
) ENGINE = MyISAM AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of user
-- ----------------------------
INSERT INTO `user` VALUES ('1970042165480517633', '沉迷美色', 'http://10.8.131.19:8080/images/portrait/tmp_bb1ab9a6aacbdfc7a0a9e80a949a55c33bc0252bb5754b7ad10f99fded5ee1ae.jpeg', 'NE4wbjlIR3hlTmIzdU9TNzl5alp2NDYwTG5Tbw==');
INSERT INTO `user` VALUES ('1970751632425717762', '枫雪', 'http://10.8.131.19:8080/images/portrait/UiSK1cm4Hx86ebe40bf40dc2332579596d01db694eba.jpeg', 'czQwRWlsSnN6WDVhX21UMmFacXJGNzYwTG5Tbw==');
INSERT INTO `user` VALUES ('1972579984673370114', 'O_o', 'http://10.8.131.19:8080/images/portrait/0Be8m8DOS27q2827a8880b20716f8429c57271587301.jpeg', 'OENzQjl2eVRGQXlKMlIwSjFhRUxvXzYwTG5Tbw==');

SET FOREIGN_KEY_CHECKS = 1;
